{% extends "layout.html" %}
{#---------Title---------#}
{% block title %}Charts{% endblock %}
{#---------Header---------#}
{% block head %}
  {{ super() }}
  <link rel="stylesheet" href="/static/css/group.css">
  <link rel="stylesheet" href="/static/css/slider.css">
{% endblock %}
{#---------Content---------#}
{% block content %}
<div class="row">
    <div class="span6 offset3">
        <canvas id="elements_chart" width="400" height="400"></canvas>
        <div class="well">
            <h4>Temperature (Kelvin)</h4>
            <input id="temperature_slider" data-slider-id='temperature_slider' type="text" data-slider-min="0" data-slider-max="6000" data-slider-step="20" data-slider-value="295"/>
            <span id="currentSliderValLabel">Current Temperature: <span id="sliderVal">295</span>K</span>
        </div>
    </div>
</div>

{% endblock %}
{% block scripts %}
<script src="/static/scripts/bootstrap-slider.js"></script>
<script>
var mySlider = $('#temperature_slider').slider({
        formatter: function(value) {
            return 'Current temperature: ' + value;
        }
    });

    mySlider.on("slide", function(slideEvt) {
        var cur_temp = parseInt(slideEvt.value);
        var red = Math.ceil((cur_temp/6000) * 255);
        var blue = 255 - red;
        var cssRgb = 'rgb(' + red + ', 20, ' + blue + ');';
	    $("#sliderVal").text(cur_temp).css('color', cssRgb);
        construct_chart(cur_temp);
});
</script>
<script src="/static/scripts/Chart.js"></script>
<script src="/static/scripts/elements_chart.js"></script>
{% endblock %}

